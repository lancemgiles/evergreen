[gd_scene load_steps=21 format=4 uid="uid://5y6ghyhtugy6"]

[ext_resource type="Script" path="res://scenes/take_2.gd" id="1_h6pmi"]
[ext_resource type="Texture2D" uid="uid://d2nu2y6j1h150" path="res://assets/Background/Brown.png" id="2_54ctt"]
[ext_resource type="PackedScene" uid="uid://rcgw8842bow3" path="res://scenes/player.tscn" id="5_dn1yh"]
[ext_resource type="PackedScene" uid="uid://dbnfvq0xc1nuk" path="res://scenes/pits.tscn" id="6_xqt4l"]
[ext_resource type="PackedScene" uid="uid://bo8i2h3ef2t04" path="res://scenes/checkpoint.tscn" id="7_sbsnh"]
[ext_resource type="Script" path="res://scripts/checkpoint_manager.gd" id="8_o65m5"]
[ext_resource type="PackedScene" uid="uid://bvwa1tp82rkm0" path="res://scenes/MovingPlatform.tscn" id="9_3chvq"]
[ext_resource type="Texture2D" uid="uid://dnlvjcdhbjkfl" path="res://assets/proto-platform-16.png" id="9_u12ws"]
[ext_resource type="PackedScene" uid="uid://pa32rusqhci2" path="res://scenes/MushroomMan.tscn" id="10_kxjsw"]
[ext_resource type="Texture2D" uid="uid://drqdhlhg4ei56" path="res://assets/proto-platform-32.png" id="10_witb8"]

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_clyqb"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_a7gfo"]

[sub_resource type="Animation" id="Animation_bfiva"]
length = 7.0
loop_mode = 2
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("MovingPlatform:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.966667, 6, 7),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 0,
"values": [Vector2(-56, -338), Vector2(-54, -338), Vector2(-464, -340), Vector2(-464, -340)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("MovingPlatform2:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 1.06667, 6.03333, 7),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 0,
"values": [Vector2(-201, 570), Vector2(-201, 570), Vector2(-201, 51), Vector2(-201, 51)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("MovingPlatform3:position")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 1, 6.03333, 7),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 0,
"values": [Vector2(-113, -299), Vector2(-113, -299), Vector2(-113, 50), Vector2(-113, 50)]
}

[sub_resource type="Animation" id="Animation_5ylip"]
resource_name = "moving_platform"
length = 5.0
loop_mode = 2
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("MovingPlatform:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 5),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(-119, -340), Vector2(-233, -340)]
}

[sub_resource type="Animation" id="Animation_3h5un"]
resource_name = "mushroom"
length = 7.0
loop_mode = 2
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("MushroomMan:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1, 5.5, 6.46667),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 0,
"values": [Vector2(-538, -648), Vector2(-538, -648), Vector2(-280, -648), Vector2(-280, -648)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_k565m"]
_data = {
"RESET": SubResource("Animation_bfiva"),
"moving_platform": SubResource("Animation_5ylip"),
"mushroom": SubResource("Animation_3h5un")
}

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_8qobo"]
texture = ExtResource("9_u12ws")
0:0/0 = 0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)

[sub_resource type="TileSet" id="TileSet_wbpch"]
physics_layer_0/collision_layer = 1
physics_layer_0/collision_mask = 2
sources/0 = SubResource("TileSetAtlasSource_8qobo")

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_jxgey"]
texture = ExtResource("10_witb8")
texture_region_size = Vector2i(32, 32)
0:0/0 = 0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)

[sub_resource type="TileSet" id="TileSet_nhkx8"]
tile_size = Vector2i(32, 32)
physics_layer_0/collision_layer = 1
physics_layer_0/collision_mask = 2
sources/0 = SubResource("TileSetAtlasSource_jxgey")

[node name="Main" type="Node2D"]
script = ExtResource("1_h6pmi")

[node name="Background-1" type="Sprite2D" parent="."]
position = Vector2(-223.5, -369.5)
scale = Vector2(17.2656, 50.4531)
texture = ExtResource("2_54ctt")

[node name="Player" parent="." instance=ExtResource("5_dn1yh")]
position = Vector2(-504, 535)
speed = 130
metadata/_edit_group_ = true

[node name="Camera2D" type="Camera2D" parent="Player"]
position = Vector2(4, 0)
zoom = Vector2(2, 2)
limit_left = -580
limit_top = -10000
limit_right = 170
limit_bottom = 790

[node name="Pits" parent="." instance=ExtResource("6_xqt4l")]
position = Vector2(-221, 894)
scale = Vector2(35.0924, -9.43888)
metadata/danger = true

[node name="Checkpoint" parent="." instance=ExtResource("7_sbsnh")]
position = Vector2(-529, 64)

[node name="Checkpoint2" parent="." instance=ExtResource("7_sbsnh")]
position = Vector2(-329, -383)

[node name="CheckpointManager" type="Node" parent="."]
script = ExtResource("8_o65m5")

[node name="MovingPlatform" parent="." instance=ExtResource("9_3chvq")]
position = Vector2(-56, -338)
collision_mask = 2
physics_material_override = SubResource("PhysicsMaterial_clyqb")

[node name="MovingPlatform2" parent="." instance=ExtResource("9_3chvq")]
position = Vector2(-201, 570)
collision_mask = 2
physics_material_override = SubResource("PhysicsMaterial_clyqb")

[node name="MovingPlatform3" parent="." instance=ExtResource("9_3chvq")]
position = Vector2(-113, -299)
collision_mask = 2
physics_material_override = SubResource("PhysicsMaterial_clyqb")

[node name="Border" type="StaticBody2D" parent="."]
position = Vector2(-582, 11)
scale = Vector2(1, 100)
collision_mask = 2

[node name="CollisionShape2D" type="CollisionShape2D" parent="Border"]
position = Vector2(-5, 0.01)
shape = SubResource("RectangleShape2D_a7gfo")

[node name="Border2" type="StaticBody2D" parent="."]
position = Vector2(140, 16)
scale = Vector2(1, 100)
collision_mask = 2

[node name="CollisionShape2D" type="CollisionShape2D" parent="Border2"]
shape = SubResource("RectangleShape2D_a7gfo")

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
"": SubResource("AnimationLibrary_k565m")
}
autoplay = "RESET"

[node name="MushroomMan" parent="." instance=ExtResource("10_kxjsw")]
position = Vector2(-538, -648)
distance = 200

[node name="TileMapLayer-16" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AADc/yMAAAAAAAAAAADd/yMAAAAAAAAAAADe/yMAAAAAAAAAAADf/yMAAAAAAAAAAADg/yMAAAAAAAAAAADh/yMAAAAAAAAAAADi/yMAAAAAAAAAAADj/yMAAAAAAAAAAADk/yMAAAAAAAAAAADl/yMAAAAAAAAAAADm/yMAAAAAAAAAAADn/yMAAAAAAAAAAADj/yAAAAAAAAAAAADk/yAAAAAAAAAAAADn/x4AAAAAAAAAAADi/xwAAAAAAAAAAADh/xwAAAAAAAAAAADg/xwAAAAAAAAAAAA=")
enabled = false
tile_set = SubResource("TileSet_wbpch")

[node name="TileMapLayer-32" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AADu/xIAAAAAAAAAAADv/xIAAAAAAAAAAADw/xIAAAAAAAAAAADx/xIAAAAAAAAAAADy/xIAAAAAAAAAAADz/xIAAAAAAAAAAAD0/xIAAAAAAAAAAADy/w8AAAAAAAAAAADz/w8AAAAAAAAAAAD2/w4AAAAAAAAAAADx/wwAAAAAAAAAAADw/wwAAAAAAAAAAAA=")
tile_set = SubResource("TileSet_nhkx8")

[connection signal="body_entered" from="Checkpoint" to="Player" method="_on_checkpoint_body_entered"]
[connection signal="body_entered" from="Checkpoint2" to="Player" method="_on_checkpoint_body_entered"]
